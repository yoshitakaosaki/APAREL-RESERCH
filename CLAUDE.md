# CLAUDE.md

このファイルは、Claude Code (claude.ai/code) がこのリポジトリで作業する際のガイダンスを提供します。

## プロジェクト概要

アパレル業界向けのテックパック生成アプリケーションです。衣料品生産で使用される技術仕様書（テックパック）の作成をデジタル化・効率化することを目的としています。

## プロジェクト構造

### ドキュメント
- `/docs/TECKPACK/`: 元となるテックパック仕様（20セクション：01-20）
- `/docs-aparel/`: 開発中のシステム設計仕様書
  - `01-システム概要/`: システム概要とアーキテクチャ
  - `02-機能要件/`: 各テックパックセクションの機能要件
  - `03-データモデル/`: データモデル仕様（未作成）
  - `04-UI_UX設計/`: UI/UX設計仕様（未作成）
  - `05-API仕様/`: API仕様（未作成）
  - `06-非機能要件/`: 非機能要件（未作成）

### 主要な技術的決定事項

**技術スタック** (system-overview.mdより):
- フロントエンド: React + TypeScript, Redux Toolkit, Material-UI/Ant Design
- バックエンド: Node.js (TypeScript), NestJS, RESTful API + GraphQL
- データベース: PostgreSQL（メタデータ）, Redis（キャッシュ）, S3/Blob（ファイル）
- インフラ: Docker + Kubernetes, マルチクラウド対応

**アーキテクチャ**: APIゲートウェイを持つマイクロサービス構成、Web・モバイル・デスクトップクライアントに対応

## 重要なコンテキスト

### テックパック構造
アプリケーションは20セクションのテックパックを管理：
1. **基本情報・ビジュアル** (01-04): カバーページ、フラットスケッチ、技術詳細
2. **資材・仕様** (05-08, 12, 17): BOM、カラーウェイ、ラベル、アートワーク、付属品、生地詳細
3. **寸法・縫製** (09-11): 基準/グレーディング寸法、縫製詳細
4. **品質・出荷** (13-16): 梱包、下げ札、洗濯表示、フィットコメント
5. **試験・管理** (18-20): 試験要件、原価計算、改訂管理

### コアデータの関連性
- BOM（セクション05）が資材関連情報の中心的なハブ
- 寸法データは複数セクション（02, 03, 09, 10, 11）にまたがる
- カラー情報はセクション05, 06, 08, 12に出現
- 全セクションが改訂履歴（セクション20）を参照

### 開発フェーズ
- **Phase 1 (MVP)**: コアセクション（01, 02, 03, 05, 09, 20）、ユーザー管理、PDF出力
- **Phase 2**: 残りのセクション、コラボレーション機能、外部システム連携
- **Phase 3**: 高度なワークフロー、AI/ML機能、分析機能

## 開発ガイドライン

### 仕様書作成時の注意点
1. `/docs-aparel/`の既存構造に従う
2. テックパックセクション間のデータ依存関係を考慮
3. 必須項目と任意項目の両方を含める
4. データ型、制約、検証ルールを定義
5. ビジュアル要素（画像、図面）とその要件を考慮

### 主要な技術的考慮事項
1. **データ整合性**: 関連セクション間の一貫性を確保
2. **多言語サポート**: 日本語、英語、中国語
3. **ファイル管理**: ベクター形式（AI、EPS）とラスター形式（PNG、JPG）の両方に対応
4. **パフォーマンス**: 複雑な計算と大きな画像のキャッシング戦略
5. **統合ポイント**: CADシステム（DXF/DWG）、PLM、ERPシステム

### 現在のステータス
- システム概要とアーキテクチャ定義済み
- 全20セクション（01-20）の機能要件仕様書完成
- 全セクションの詳細分析完了
- データモデルと残りの仕様書は未作成